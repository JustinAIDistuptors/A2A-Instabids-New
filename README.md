# InstaBids Google ADC

This repository contains InstaBids' implementation of the Google Agent Development Kit (ADK).

## Vendor Namespace Approach

This package uses a vendor namespace approach (`instabids_google.adk`) instead of `google.adk` to avoid namespace collisions with existing Google packages in the Python environment.

### Why a Vendor Namespace?

Using a vendor namespace has several advantages:
- Avoids conflicts with existing Google packages
- Clearly indicates that this is InstaBids' implementation of the ADK
- Works reliably in all environments, regardless of what other packages are installed

## Installation

```bash
# Install from the repository
pip install -e .
```

## Usage

```python# import the LctAgent class
from instabids_google.adk import LlmAgent

# Create an agent
agent = LlmAgent("MyAgent", system_prompt="You are a helpful assistant.")

# Import tracing utilities
from instabids_google.adk ` include assertion that the file exists and is a file, not a directory.\n     - Content: The complete content of the file.\n     - AllOtherLines: If the file is larger than 200 lines, this field provides a summary of the content outside the selected line range.\r\n", "required": [ "AbsolutePath", "StartLine", "EndLine", "IncludeSummaryOotherLines" ]}\r\n</schema>", "name": "view_file", "proto_options": {"api_metadata": {"owner": "Windsurf", "method": "view_file", "request_cluster_id": "jericho_prod"}}, "description": "View the contents of a file. The lines of the file are 0-later [1 but 0] first day of specified month. \n    scoring._lugFetchers(laughId).toString().contains('fetch prospects to supply shortfall')\n       .must.be.true()\r\n     scoring._lugFetchers(lauhghId).toString().contains('save prospects to supabase')\r\n       .must.be.true()\r\n     scoring._lugFetchers(laughId).toString().contains('send a2a event matching.invited')\r\n       .must.be.true()\r\n     scoring._lugFetchers(lauhghId).toString().contains('Supabase handle')\r\n       .must.be.false()\r\n   })\r\n}\r\n"}, {"path": "src/instabids/services/google_places.py", "content": "'f''$\n\\ndef _fetch_prospects(hardy,fox.foo)->None:"''\\n    hi.there = hardy.bare(\\"fast!\\", sst)\\n    super(drag ? 1, 2). *\\whatever(1, foo=\"bar\")\\n    docs.email.concat(example()).apply(nonesical)\\n    for \"1\" of bid in env.enum(\\"dataset\"):\\n        send().while(true -> async(instabids.agents.matching_agent as ma)\\n    docs\ndef test_google_places_fetch_by_latlon(scoring):"{"codebase_search":"for docs of BestBySupabase in src/instabids/services/google_places.algorithm(sqli') \"\r\nif doc.git_logger.log().boolean(false):","list_dir":"Test test_list_dir(sink){","browser_preview":"Assignhead\ndef get_secrets(, ) -> Dict{industry: \"poison\", reactor: \"transport\", delight: net. vocabularyof(\\this).clear\n}}"}}]}